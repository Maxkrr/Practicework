def power(x, n):
    # Базовый случай: любое число в степени 0 равно 1
    if n == 0:
        return 1.0
    
    # Если степень отрицательная, преобразуем в положительную
    if n < 0:
        return 1.0 / power(x, -n)
    
    # Если степень чётная, используем оптимизацию: x^(2k) = (x^2)^k
    if n % 2 == 0:
        return power(x * x, n // 2)
    
    # Если степень нечётная: x^n = x * x^(n-1)
    return x * power(x, n - 1)


# Пример использования
x = 2.0
n = 5
print(f"{x}^{n} = {power(x, n)}")
# Результат: 2.0^5 = 32.0
